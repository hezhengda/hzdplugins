

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiidaplugins Modules &mdash; hzdplugins 0.0.39 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/my_theme.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="structure Modules" href="structure.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> hzdplugins
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">aiidaplugins Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-hzdplugins.aiidaplugins.io">addiaplugins.io Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-hzdplugins.aiidaplugins.info">addiaplugins.info Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-hzdplugins.aiidaplugins.submit">addiaplugins.submit Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-hzdplugins.aiidaplugins.inputgenerator">addiaplugins.inputgenerator Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="structure.html">structure Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Log file for hzdplugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">To-Do list for the further</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hzdplugins</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>aiidaplugins Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/aiidaplugins.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="aiidaplugins-modules">
<h1>aiidaplugins Modules<a class="headerlink" href="#aiidaplugins-modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-hzdplugins.aiidaplugins.io">
<span id="addiaplugins-io-module"></span><h2>addiaplugins.io Module<a class="headerlink" href="#module-hzdplugins.aiidaplugins.io" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="hzdplugins.aiidaplugins.io.qeCleanAllRemoteFolder">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.io.</code><code class="sig-name descname">qeCleanAllRemoteFolder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid_list</span></em>, <em class="sig-param"><span class="n">is_wfc</span></em>, <em class="sig-param"><span class="n">is_save</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/io.html#qeCleanAllRemoteFolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.io.qeCleanAllRemoteFolder" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">qeCleanAllRemoteFolderWithWfc</span></code> We would like to clean all the remote folder in the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid_list</strong> (<em>python list object</em>) – you can add a list of nodes that you want to clear the remote folder. e.g. [2020, 2030,
2040] etc. The function will only deal with the list object, other types of inputs are ignored.
But if args is not set, then the function will deal with all the nodes in the results dictionary.</p></li>
<li><p><strong>is_wfc</strong> (<em>python boolean object</em>) – (optional, default = False) True if we want to delete all the wavefunction files</p></li>
<li><p><strong>is_save</strong> (<em>python boolean object</em>) – (optional, default = False )True if we want to delete all contents in <code class="code docutils literal notranslate"><span class="pre">aiida.save</span></code> folder</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.io.qeCleanOneRemoteFolder">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.io.</code><code class="sig-name descname">qeCleanOneRemoteFolder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">is_wfc</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_save</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/io.html#qeCleanOneRemoteFolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.io.qeCleanOneRemoteFolder" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">qeCleanOneRemoteFolderNoWfc</span></code> This method is used for clean the content on remote folder generated by Quantum
Espresso. Since QE will generate a lot of files (e.g. ‘mix’, ‘hub’, ‘wfc’, ‘restart’, etc), so the storage on our
supercomputer will be overloaded soon, that’s not a good thing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – the uuid value of certain node (CalcJob)</p></li>
<li><p><strong>is_wfc</strong> (<em>python boolean object</em>) – (optional, default = False) True if we want to delete all the wavefunction files</p></li>
<li><p><strong>is_save</strong> (<em>python boolean object</em>) – (optional, default = False )True if we want to delete all contents in <code class="code docutils literal notranslate"><span class="pre">aiida.save</span></code> folder</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.io.qeRetriveAllFiles">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.io.</code><code class="sig-name descname">qeRetriveAllFiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">localpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/io.html#qeRetriveAllFiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.io.qeRetriveAllFiles" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">qeRetriveAllFiles</span></code> can help us retrieve all the files from remote_folder_path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the computational node</p></li>
<li><p><strong>localpath</strong> (<em>python string object</em>) – The absolute path of local folder, which we want to store our information in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>There is no return.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.io.setCmdOnRemoteComputer">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.io.</code><code class="sig-name descname">setCmdOnRemoteComputer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">uuid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/io.html#setCmdOnRemoteComputer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.io.setCmdOnRemoteComputer" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">setCmdOnRemoteComputer</span></code> can run command on remote computer from jupyterlab, which is really convenient,
and also the command is programmable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>python string object</em>) – represents the command that needs to be run on the remote server.</p></li>
<li><p><strong>uuid</strong> (<em>python string object</em>) – represents the uuid of the job. Our cmd will be operated in uuid work directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>r</strong> (<cite>int</cite>): if 0, means success</p></li>
<li><p><strong>stdout</strong> (<cite>list</cite>): the return list of the cmd</p></li>
<li><p><strong>stderr</strong> (<cite>str</cite>): the return message of error, if succeeds, then this is empty</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-hzdplugins.aiidaplugins.info">
<span id="addiaplugins-info-module"></span><h2>addiaplugins.info Module<a class="headerlink" href="#module-hzdplugins.aiidaplugins.info" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.checkDistance">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">checkDistance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">atom1</span></em>, <em class="sig-param"><span class="n">atom2</span></em>, <em class="sig-param"><span class="n">bond_length</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#checkDistance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.checkDistance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">check_distance</span></code> function can help us determine whether the two atoms in the slab structure are close
enough (distance &lt; bond_length) or not. In here we should notice that all slab structures have periodic boundary
condition (PBC), which means that not only we need to consider the position of atom2, we also need to consider 6
different atom positions that is in translational symmetry with atom2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<em>python list object</em>) – A 3x3 array. The cell parameters of the slab, which can be easily accessed by <code class="code docutils literal notranslate"><span class="pre">structure.cell</span></code></p></li>
<li><p><strong>atom1</strong> (<em>ase.Atom object</em>) – atom1</p></li>
<li><p><strong>atom2</strong> (<em>ase.Atom object</em>) – atom2</p></li>
<li><p><strong>bond_length</strong> (<em>python float object</em>) – The threshold of the bond length that we are interested in, can be set by the user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If true, then function will return [True, distance, add_string]</p></li>
<li><p>If false, then function will return [False, -1, ‘’]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getChargeAndMagneticMoments">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getChargeAndMagneticMoments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">traj_index</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getChargeAndMagneticMoments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getChargeAndMagneticMoments" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">get_ChargeAndMagneticMoments</span></code> function will output the charge and the magnetic moments for each atom if
we have spin-polarized simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the computational node.</p></li>
<li><p><strong>traj_index</strong> – The index of the structure. -1 means the end structure, but sometimes we need to use -2
because the last structure was created by SCF calculation, and for vc-relax simulation,
the last step can sometimes be questionable.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A table that shows the charge and atomic_magnetic_moments for each species (labeled as <code class="code docutils literal notranslate"><span class="pre">[number][</span>
<span class="pre">atomic_species]</span></code>, e.g. 1Ni)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getDos">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getDos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getDos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getDos" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">getDos</span></code> can return the DOS of the system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the projwfc calc node</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>energy</strong> (<cite>python list object</cite>): list of energy</p></li>
<li><p><strong>dos</strong> (<cite>python list object</cite>): dos of energy</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getLastForce">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getLastForce</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getLastForce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getLastForce" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">getLastForce</span></code> will return the value of the last total force and the stdout of <code class="code docutils literal notranslate"><span class="pre">grep</span> <span class="pre">'Total</span> <span class="pre">force'</span>
<span class="pre">aiida.out</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the simulation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>The last force of the simulation</p></li>
<li><p>The stdout of the cmd</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getLastScf">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getLastScf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getLastScf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getLastScf" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">getLastScf</span></code> will return the value of the last scf accuracy and the stdout of <code class="code docutils literal notranslate"><span class="pre">grep</span> <span class="pre">'scf</span> <span class="pre">accuracy'</span>
<span class="pre">aiida.out</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the simulation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>The last force of the simulation</p></li>
<li><p>The stdout of the cmd</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getPdos">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getPdos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">is_spin</span></em>, <em class="sig-param"><span class="n">set_angular_momentum</span><span class="o">=</span><span class="default_value">[0, 1, 2]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getPdos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getPdos" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">getPdos</span></code> will give you the PDOS that you want, in order to do the analysis later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the computational node.</p></li>
<li><p><strong>index</strong> (<em>python list object</em>) – Shows the atoms that we want to investigate.</p></li>
<li><p><strong>is_spin</strong> (<em>python boolean object</em>) – If is_spin is True, then we need to look for spin-up and spin-down, but if is_spin is false,
then we only need to care about the orbital, not the spin.</p></li>
<li><p><strong>set_angular_momentum</strong> (<em>python list object</em>) – A list. [0, 1, 2] means [‘s’, ‘p’, ‘d’] orbitals, and if we are considering
f-electrons, then we need to add ‘3’ to this list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A list and A dictionary. A list is the energy list, which is modified by the Fermi energy. The second
return is a dictionary. First key is the index of atom in the cell, second key is the angular_momentum,
third key is the magnetic number, and in there is the pdos of certain magnetic number,
for each angular_momentum, we will have a ‘tot’ element which shows the combination of all the magnetic
number.</p>
<p>The structure can be represented as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;s&#39;</span><span class="p">:</span>
            <span class="s1">&#39;tot&#39;</span><span class="p">:</span>
        <span class="p">},</span>
        <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;px&#39;</span><span class="p">:,</span>
            <span class="s1">&#39;py&#39;</span><span class="p">,</span>
            <span class="s1">&#39;pz&#39;</span>
            <span class="s1">&#39;tot&#39;</span><span class="p">:</span>
        <span class="p">}</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getStructure">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getStructure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getStructure" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">getStructure</span></code> can give you the structure by using ase_gui.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ase-gui figure represents the structure, which you can view; An ase structure file which you can
manipulate later.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getStructureAnalysis">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getStructureAnalysis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">bond_length</span><span class="o">=</span><span class="default_value">2.5</span></em>, <em class="sig-param"><span class="n">atom_index</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">is_Metal</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getStructureAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getStructureAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">get_StructureAnalysis</span></code> is a function that can analyze the local structure of each atom in the structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the node.</p></li>
<li><p><strong>bond_length</strong> (<em>python float object</em>) – The maximum bond length that we consider as a “neighbour”, 2.5 is sufficiently large enough,
but if can be adjusted by the user.</p></li>
<li><p><strong>atom_index</strong> (<em>python list object</em>) – A list that tell the code which atom that we want to investigate, put the atom_id of the atom
in the list.</p></li>
<li><p><strong>is_Metal</strong> (<em>python boolean object</em>) – A boolean variable. If you are only interested in the metal elements, then you put that to True,
else False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary that shows the distance of the central atom with its surrouding atoms. Since metals are
important, so we mainly focus on Metal atoms. Later maybe I can add a boolean parameters to let the
user choose.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.getTotalForces">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">getTotalForces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#getTotalForces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.getTotalForces" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">get_TotalForces</span></code> function will output the total force for each atomic step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> (<em>python string object</em>) – The uuid of the computational node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A matplotlib figure that shows the convergence, and also the last 5 steps of total_forces.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.isMetal">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">isMetal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atom_symbol</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#isMetal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.isMetal" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">isMetal</span></code> can determine whether an element is metal or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>atom_symbol</strong> (<em>python string object</em>) – The symbol of the atom.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If it is metal, the return True, else return False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.info.viewStructure">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.info.</code><code class="sig-name descname">viewStructure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/info.html#viewStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.info.viewStructure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structure</strong> (<em>pymatgen.core.structure object</em>) – The structure that we want to show, it has to be pymatgen structure</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a nglview variable to show the structure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nglview object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-hzdplugins.aiidaplugins.submit">
<span id="addiaplugins-submit-module"></span><h2>addiaplugins.submit Module<a class="headerlink" href="#module-hzdplugins.aiidaplugins.submit" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="hzdplugins.aiidaplugins.submit.nebOriginalSubmit">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.submit.</code><code class="sig-name descname">nebOriginalSubmit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">results</span></em>, <em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">codename</span></em>, <em class="sig-param"><span class="n">add_parameters</span></em>, <em class="sig-param"><span class="n">del_parameters</span></em>, <em class="sig-param"><span class="n">metadata</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/submit.html#nebOriginalSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.submit.nebOriginalSubmit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.submit.phOriginalSubmit">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.submit.</code><code class="sig-name descname">phOriginalSubmit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">codename</span></em>, <em class="sig-param"><span class="n">natlist</span></em>, <em class="sig-param"><span class="n">qpoints</span><span class="o">=</span><span class="default_value">[[0.0, 0.0, 0.0]]</span></em>, <em class="sig-param"><span class="n">add_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">del_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">cluster_options</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/submit.html#phOriginalSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.submit.phOriginalSubmit" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">phOriginalSubmit</span></code> can submit a ph.x simulation to get the PDOS. It must follow a scf simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – (mandatory) The uuid of previous calculation. We will start our calculation from there. Because uuid
is the unique identification number for each CalcJobNode</p></li>
<li><p><strong>codename</strong> (<em>python string object</em>) – (mandatory) Represent the code for pw.x that you want to use. If you want to use the same as
previous calculation, then you need to use Str(‘’)</p></li>
<li><p><strong>natlist</strong> (<em>python list object</em>) – (mandatory) Assign the atoms which we want to do the vibrational frequency analysis.</p></li>
<li><p><strong>qpoints</strong> (<em>python list object</em>) – (optional, default = [[0.0, 0.0, 0.0]] It is like k-points, but useful when calculating
vibrational frequencies.</p></li>
<li><p><strong>add_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {}) The desired parameters that you want to state, it can be incomplete,
because inside the function there is a default setting for parameters which can be used in
most cases, but if you have specific need, you can put that in parameters, the format is
similar as pw.x input file.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'PROJWFC':{}}</span></code></p>
</p></li>
<li><p><strong>del_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {}) The tags that we would like to delete, for example if we do not
want to use spin-polarized simulation, then ‘nspin’ needs to be deleted. Same structure
as add_parameters.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'PROJWFC':</span> <span class="pre">[key1,</span> <span class="pre">key2,</span> <span class="pre">key3]}</span></code></p>
</p></li>
<li><p><strong>metadata</strong> (<em>python dictionary object</em>) – (optional, default = {}) The dictionary that contains information about metadata. For example:
label and description. label and description are mendatory.</p></li>
<li><p><strong>cluster_options</strong> (<em>python dictionary object</em>) – (optional, default = {}) The detailed option for the cluster. Different cluster may have
different settings. Only the following 3 keys can have effects: (1) resources (2)
account (3) queue_name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>uuid of the CalcJobNode object of the newest calculation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.submit.ppOriginalSubmit">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.submit.</code><code class="sig-name descname">ppOriginalSubmit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">results</span></em>, <em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">codename</span></em>, <em class="sig-param"><span class="n">add_parameters</span></em>, <em class="sig-param"><span class="n">del_parameters</span></em>, <em class="sig-param"><span class="n">metadata</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/submit.html#ppOriginalSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.submit.ppOriginalSubmit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.submit.projwfcOriginalSubmit">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.submit.</code><code class="sig-name descname">projwfcOriginalSubmit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">codename</span></em>, <em class="sig-param"><span class="n">metadata</span></em>, <em class="sig-param"><span class="n">add_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">del_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">cluster_options</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/submit.html#projwfcOriginalSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.submit.projwfcOriginalSubmit" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">projwfcOriginalSubmit</span></code> can submit a projwfc simulation to get the PDOS. It must follow a nscf simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – (mandatory) The uuid of previous calculation. We will start our calculation from there. Because uuid
is the unique identification number for each CalcJobNode</p></li>
<li><p><strong>codename</strong> (<em>python string object</em>) – (mandatory) Represent the code for pw.x that you want to use. If you want to use the same as
previous calculation, then you need to use Str(‘’)</p></li>
<li><p><strong>add_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {}) The desired parameters that you want to state, it can be incomplete,
because inside the function there is a default setting for parameters which can be used in
most cases, but if you have specific need, you can put that in parameters, the format is
similar as pw.x input file.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'PROJWFC':{}}</span></code></p>
</p></li>
<li><p><strong>del_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {}) The tags that we would like to delete, for example if we do not
want to use spin-polarized simulation, then ‘nspin’ needs to be deleted. Same structure
as add_parameters.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'PROJWFC':</span> <span class="pre">[key1,</span> <span class="pre">key2,</span> <span class="pre">key3]}</span></code></p>
</p></li>
<li><p><strong>metadata</strong> (<em>python dictionary object</em>) – (optional, default = {}) The dictionary that contains information about metadata. For example:
label and description. label and description are mendatory.</p></li>
<li><p><strong>cluster_options</strong> (<em>python dictionary object</em>) – (optional, default = {}) The detailed option for the cluster. Different cluster may have
different settings. Only the following 3 keys can have effects: (1) resources (2)
account (3) queue_name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>uuid of the CalcJobNode object of the newest calculation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.submit.qePwContinueSubmit">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.submit.</code><code class="sig-name descname">qePwContinueSubmit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uuid</span></em>, <em class="sig-param"><span class="n">pseudo_family</span></em>, <em class="sig-param"><span class="n">pseudo_dict</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">codename</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">parent_folder</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">add_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">del_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">kpoints</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">cluster_options</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">settings_dict</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/submit.html#qePwContinueSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.submit.qePwContinueSubmit" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>qePwContinueSubmit</cite> will continue a simulation with similar or modified input parameters. All the parameters are
listed in the kwargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> (<em>python string object</em>) – <p>(mandatory) The uuid of previous calculation. We will start our calculation from there. Because uuid
is the unique identification number for each CalcJobNode</p>
<blockquote>
<div><p><strong>Notice</strong>: The uuid must be in the results dictionary, if not the program will shout KeyError.
And if you are testing, you could use assignValue to quickly create a dictionary that contains
the uuid that you want to continue.</p>
</div></blockquote>
</p></li>
<li><p><strong>pseudo_family</strong> (<em>python string object</em>) – (mandatory) The pseudopotential family that you want to use. Make sure that you already have
that configured, otherwise an error will occur. This is mendatory.</p></li>
<li><p><strong>pseudo_dict</strong> (<em>python dictionary object</em>) – (optional, default = {}) Which contains the pseudopotential files that we want to use in the
simulation.</p></li>
<li><p><strong>codename</strong> (<em>python string object</em>) – (optional, default = ‘’) Represent the code for pw.x that you want to use. If you want to use the
same as previous calculation, then you need to use Str(‘’)</p></li>
<li><p><strong>parent_folder</strong> (<em>python boolean object</em>) – (optional, default = True) If parent_folder is True, then the calculation will start with the
output files from previous calculations.</p></li>
<li><p><strong>add_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {}) The desired parameters that you want to state, it can be incomplete,
because inside the function there is a default setting for parameters which can be used in
most cases, but if you have specific need, you can put that in parameters, the format is
similar as pw.x input file.</p>
<p>If you want to assign DFT+U and spin-polarization, you need to specify it on your own.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'CONTROL':{},</span> <span class="pre">'SYSTEM':{}}</span></code></p>
<p><strong>Notice</strong>: more options in qePwOriginalSubmit function. In qePwContinueSubmit,
we assume that the user wants to restart from previous converged wave functions and
charge density, so we set [‘CONTROL’][‘restart_mode’]=’restart’, [‘ELECTRON’][
‘startingwfc’]=’file and [‘ELECTRON’][‘startingpot’]=’file’.</p>
</p></li>
<li><p><strong>del_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {})The tags that we would like to delete, for example if we do not
want to use spin-polarized simulation, then ‘nspin’ needs to be deleted. Same structure as
add_parameters.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'CONTROL':</span> <span class="pre">[key1,</span> <span class="pre">key2,</span> <span class="pre">key3],</span> <span class="pre">'SYSTEM':</span> <span class="pre">[key1,</span> <span class="pre">key2,</span> <span class="pre">key3]}</span></code></p>
</p></li>
<li><p><strong>kpoints</strong> (<em>python list object</em>) – (optional, default = []), if you want to keep the k-points for previous calculation, just use an
empty list <code class="code docutils literal notranslate"><span class="pre">[]</span></code>. The kpoints that you want to use, if the kpoints has only 1 list,
then it is the kpoint mesh, but if two lists are detected, then the first will be k-point mesh,
the second one will be the origin of k-point mesh.e.g. [[3, 3, 1]] or [[3, 3, 1],[0.5, 0.5, 0.5]]</p></li>
<li><p><strong>cluster_options</strong> (<em>python dictionary object</em>) – (optional, default = {}) The detailed option for the cluster. Different cluster may have
different settings. Only the following 3 keys can have effects: (1) resources (2)
account (3) queue_name. If value is <code class="code docutils literal notranslate"><span class="pre">{}</span></code>, then it means we will use previous settings</p></li>
<li><p><strong>metadata</strong> (<em>python dictionary object</em>) – (optional, default = {}) The dictionary that contains information about metadata. For example:
label and description.label and description are mendatory. If value is <code class="code docutils literal notranslate"><span class="pre">{}</span></code>,
then it means we will use previous settings.</p></li>
<li><p><strong>settings_dict</strong> (<em>python dictionary object</em>) – (optional, default = {}) which contains the additional information for the pw.x calculation.
e.g. Fixed atom, retrieving more files, parser options, etc. And the command-line options.
If value is <code class="code docutils literal notranslate"><span class="pre">{}</span></code>, then it means we will use previous settings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>uuid of the CalcJobNode of the newest calculation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hzdplugins.aiidaplugins.submit.qePwOriginalSubmit">
<code class="sig-prename descclassname">hzdplugins.aiidaplugins.submit.</code><code class="sig-name descname">qePwOriginalSubmit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">codename</span></em>, <em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">kpoints</span></em>, <em class="sig-param"><span class="n">pseudo_family</span></em>, <em class="sig-param"><span class="n">metadata</span></em>, <em class="sig-param"><span class="n">pseudo_dict</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">add_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">del_parameters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">cluster_options</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">settings_dict</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/submit.html#qePwOriginalSubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.submit.qePwOriginalSubmit" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">qePwOriginalSubmit</span></code> will submit an original computational task to the desired computer by using certain code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>codename</strong> (<em>python string object</em>) – (mandatory) A string represents the code for pw.x that you want to use.</p></li>
<li><p><strong>structure</strong> (<em>aiida.orm.StructureData object</em>) – (mandatory) The structure of your system.</p></li>
<li><p><strong>add_parameters</strong> (<em>python dictionary</em>) – <p>(optional, default = {}) The desired parameters that you want to state, it can be
incomplete, because inside the function there is a default setting for parameters which can
be used in most cases, but if you have specific need, you can put that in parameters,
the format is similar as pw.x input file.</p>
<p>If you want to assign DFT+U and spin-polarization, you need to specify it on your own.</p>
<p>In Aiida, there is a very efficient way to specify the <code class="code docutils literal notranslate"><span class="pre">hubbard_u</span></code>,
<code class="code docutils literal notranslate"><span class="pre">starting_magnetization</span></code> and <code class="code docutils literal notranslate"><span class="pre">starting_ns_eigenvalue</span></code>. I give some examples
in below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># hubbard_u</span>
<span class="s1">&#39;SYSTEM&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;hubbard_u&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;Fe&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
        <span class="s1">&#39;Fe3&#39;</span><span class="p">:</span> <span class="mf">5.0</span> <span class="c1"># if you have different spins of same atom, then you should use</span>
        <span class="n">newStructure</span> <span class="n">function</span> <span class="n">to</span> <span class="n">create</span> <span class="n">the</span> <span class="n">structure</span>
    <span class="p">},</span>
    <span class="s1">&#39;starting_magnetization&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;Fe&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="s1">&#39;Fe3&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;starting_ns_eigenvalue&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="c1"># represent: starting_ns_eigenvalue(1, 1, 1)=1.0</span>
        <span class="c1"># others are the same, if you want to assign to Fe3, just replace Fe with Fe3.</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>del_parameters</strong> (<em>python dictionary object</em>) – <p>(optional, default = {}) The tags that we would like to delete, for example if we do not
want to use spin-polarized simulation, then ‘nspin’ needs to be deleted. Same structure
as add_parameters.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'CONTROL':</span> <span class="pre">[key1,</span> <span class="pre">key2,</span> <span class="pre">key3],</span> <span class="pre">'SYSTEM':</span> <span class="pre">[key1,</span> <span class="pre">key2,</span> <span class="pre">key3]}</span></code></p>
</p></li>
<li><p><strong>kpoints</strong> (<em>python list object</em>) – (mandatory) The kpoints that you want to use, if the kpoints has only 1 list, then it is the kpoint
mesh, but if two lists are detected, then the first will be k-point mesh, the second one will be the
origin of k-point mesh.e.g. [[3, 3, 1]] or [[3, 3, 1],[0.5, 0.5, 0.5]]</p></li>
<li><p><strong>pseudo_family</strong> (<em>python string object.</em>) – (mandatory) The pseudopotential family that you want to use. Make sure that you already have
that configured, otherwise an error will occur.</p></li>
<li><p><strong>pseudo_dict</strong> (<em>python dictionary object.</em>) – <p>(optional, default = {}) which contains the pseudopotential files that we want to use in the
simulation. In here it is very important to note that the path of the pseudopotential file
has to be in the absolute path.</p>
<p>e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pseudo_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Fe&#39;</span><span class="p">:</span> <span class="n">UpfData</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">),</span>
    <span class="s1">&#39;Fe3&#39;</span><span class="p">:</span> <span class="n">UpfData</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>cluster_options</strong> (<em>python dictionary object</em>) – (optional, default = {}) The detailed option for the cluster. Different cluster may have
different settings. Only the following 3 keys can have effects: (1) resources (2) account
(3) queue_name</p></li>
<li><p><strong>metadata</strong> (<em>python dictionary object</em>) – <p>(mandatory) The dictionary that contains information about metadata. For example: label and
description. label and description are mendatory.</p>
<p>e.g. <code class="code docutils literal notranslate"><span class="pre">{'label':{},</span> <span class="pre">'description':{}}</span></code></p>
</p></li>
<li><p><strong>settings_dict</strong> (<em>python dictionary object</em>) – (optional, default = {}) which contains the additional information for the pw.x
calculation. e.g. Fixed atom, retrieving more files, parser options, etc. And the
command-line options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>uuid of the new CalcJobNode</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-hzdplugins.aiidaplugins.inputgenerator">
<span id="addiaplugins-inputgenerator-module"></span><h2>addiaplugins.inputgenerator Module<a class="headerlink" href="#module-hzdplugins.aiidaplugins.inputgenerator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="hzdplugins.aiidaplugins.inputgenerator.PwBaseWorkChainInputGenerator">
<em class="property">class </em><code class="sig-prename descclassname">hzdplugins.aiidaplugins.inputgenerator.</code><code class="sig-name descname">PwBaseWorkChainInputGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pw</span></em>, <em class="sig-param"><span class="n">kpoints</span></em>, <em class="sig-param"><span class="n">clean_workdir</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/inputgenerator.html#PwBaseWorkChainInputGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.inputgenerator.PwBaseWorkChainInputGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <code class="code docutils literal notranslate"><span class="pre">PwBaseWorkChainInputGenerator</span></code> class is used to construct the input file for PwBaseWorkChain.</p>
<p>Initialization function for <code class="code docutils literal notranslate"><span class="pre">PwBaseWorkChainInputGenerator</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pw</strong> (<em>PwCalculationInputGenerator object</em>) – The input of PwCalculation</p></li>
<li><p><strong>kpoints</strong> (<em>aiida.orm.KpointsData</em>) – The kpoints for the simulation</p></li>
<li><p><strong>clean_workdir</strong> (<em>python boolean object</em>) – If true, then we want to delete all the files in the work directory</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="hzdplugins.aiidaplugins.inputgenerator.PwBaseWorkChainInputGenerator.outputdict">
<code class="sig-name descname">outputdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/inputgenerator.html#PwBaseWorkChainInputGenerator.outputdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.inputgenerator.PwBaseWorkChainInputGenerator.outputdict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary. Suitable for the <code class="code docutils literal notranslate"><span class="pre">PwBaseWorkChain</span></code>, can be used directly in the <code class="code docutils literal notranslate"><span class="pre">submit(</span>
<span class="pre">PwBaseWorkChain,</span> <span class="pre">**inputs)</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hzdplugins.aiidaplugins.inputgenerator.PwCalculationInputGenerator">
<em class="property">class </em><code class="sig-prename descclassname">hzdplugins.aiidaplugins.inputgenerator.</code><code class="sig-name descname">PwCalculationInputGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">code</span></em>, <em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">pseudos</span></em>, <em class="sig-param"><span class="n">parameters</span></em>, <em class="sig-param"><span class="n">settings</span></em>, <em class="sig-param"><span class="n">metadata</span></em>, <em class="sig-param"><span class="n">kpoints</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/inputgenerator.html#PwCalculationInputGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.inputgenerator.PwCalculationInputGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <code class="code docutils literal notranslate"><span class="pre">PwCalculationInputGenerator</span></code> class is used to construct the input file for PwCalculation.</p>
<p>Initialization function for <code class="code docutils literal notranslate"><span class="pre">PwCalculationInputGenerator</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>aiida.orm.StructureData object</em>) – The code we want to use for the pw.x calculation.</p></li>
<li><p><strong>structure</strong> – The structure we want to calculate</p></li>
<li><p><strong>pseudos</strong> (<em>python dictionary object</em>) – <p>The pseudopotential we want to use</p>
<p>e.g. An example for pseudos</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pseudos</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="n">UpfData</span><span class="p">(</span><span class="n">absolute_path_of_pseudopotential_for_Pt</span><span class="p">)</span>
    <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="n">UpfData</span><span class="p">(</span><span class="n">absolute_path_of_pseudopotential_for_O</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>parameters</strong> (<em>aiida.orm.Dict object</em>) – The parameters for the pw.x calculation</p></li>
<li><p><strong>settings</strong> (<em>aiida.orm.Dict object</em>) – The computational settings for the pw.x calculation</p></li>
<li><p><strong>metadata</strong> (<em>python dictionary object</em>) – <p>The metadata for the pw.x calculation</p>
<p>e.g. An example for metadata</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;The label of your system, easy for query later&#39;</span><span class="p">,</span>
    <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;A description of your calculation&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;resources&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;num_machines&#39;</span><span class="p">:</span> <span class="n">x</span><span class="p">},</span>
        <span class="s1">&#39;max_wallclock_seconds&#39;</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
        <span class="s1">&#39;account&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span>
        <span class="s1">&#39;scheduler_stderr&#39;</span><span class="p">:</span> <span class="s1">&#39;stderr&#39;</span><span class="p">,</span>
        <span class="s1">&#39;scheduler_stdout&#39;</span><span class="p">:</span> <span class="s1">&#39;stdout&#39;</span><span class="p">,</span>
        <span class="s1">&#39;queue_name&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxxxx&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>kpoints</strong> (<em>aiida.orm.KpointsData</em>) – kpoints for the simulation</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="hzdplugins.aiidaplugins.inputgenerator.PwCalculationInputGenerator.outputdict">
<code class="sig-name descname">outputdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/inputgenerator.html#PwCalculationInputGenerator.outputdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.inputgenerator.PwCalculationInputGenerator.outputdict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary. Suitable for the <code class="code docutils literal notranslate"><span class="pre">PwCalculation</span></code>, can be used directly in the <code class="code docutils literal notranslate"><span class="pre">submit(</span>
<span class="pre">calculation,</span> <span class="pre">**inputs)</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hzdplugins.aiidaplugins.inputgenerator.PwRelaxWorkChainInputGenerator">
<em class="property">class </em><code class="sig-prename descclassname">hzdplugins.aiidaplugins.inputgenerator.</code><code class="sig-name descname">PwRelaxWorkChainInputGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base</span></em>, <em class="sig-param"><span class="n">base_final_scf</span></em>, <em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">relaxation_scheme</span></em>, <em class="sig-param"><span class="n">relax_type</span></em>, <em class="sig-param"><span class="n">meta_convergence</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">max_meta_convergence_iterations</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">volume_convergence</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">clean_workdir</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/inputgenerator.html#PwRelaxWorkChainInputGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.inputgenerator.PwRelaxWorkChainInputGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <code class="code docutils literal notranslate"><span class="pre">PwRelaxWorkChainInputGenerator</span></code> class is used to construct the input file for PwBaseWorkChain.</p>
<p>Initialization function for <code class="code docutils literal notranslate"><span class="pre">PwRelaxWorkChainInputGenerator</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base</strong> (<em>PwBaseWorkChainInputGenerator object</em>) – Input for the PwBaseWorkChain</p></li>
<li><p><strong>base_final_scf</strong> (<em>PwBaseWorkChainInputGenerator object</em>) – Input for the last scf simulation</p></li>
<li><p><strong>structure</strong> (<em>aiida.orm.StructureData object</em>) – The structure we want to relax</p></li>
<li><p><strong>relax_type</strong> (<em>python string object</em>) – <p>How do we want to relax the structure. Default value can be summaried in below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">relax_type_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;none&#39;</span><span class="p">:</span> <span class="s1">&#39;Nothing can move --&gt; SCF simulation&#39;</span><span class="p">,</span>
    <span class="s1">&#39;atoms: &#39;</span><span class="n">Only</span> <span class="n">atomic</span> <span class="n">positions</span> <span class="n">can</span> <span class="n">be</span> <span class="n">relaxed</span><span class="p">,</span> <span class="n">cell</span> <span class="ow">is</span> <span class="n">fixed</span><span class="o">.</span><span class="s1">&#39;, (&#39;</span><span class="n">relax</span><span class="s1">&#39;)</span>
    <span class="s1">&#39;volume&#39;</span><span class="p">:</span> <span class="s1">&#39;Only volume can change, cell shape and atoms are fixed&#39;</span><span class="p">,</span>
    <span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Only shape is optimized, volume and atomic positions are fixed&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cell&#39;</span><span class="p">:</span> <span class="s1">&#39;Only cell is optimized (both shape and volume), atoms are fixed&#39;</span><span class="p">,</span>
    <span class="s1">&#39;atoms_volume&#39;</span><span class="p">:</span> <span class="s1">&#39;Relax atomic positions and volume&#39;</span><span class="p">,</span>
    <span class="s1">&#39;atoms_shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Relax atomic positions and shape&#39;</span><span class="p">,</span>
    <span class="s1">&#39;atoms_cell&#39;</span><span class="p">:</span> <span class="s1">&#39;Relax both atomic positions and cell&#39;</span> <span class="p">(</span><span class="s1">&#39;vc-relax&#39;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>meta_convergence</strong> (<em>python boolean object</em>) – Don’t know why this exists</p></li>
<li><p><strong>max_meta_convergence_iterations</strong> (<em>python int object</em>) – pass</p></li>
<li><p><strong>volume_convergence</strong> (<em>python float object</em>) – pass</p></li>
<li><p><strong>clean_workdir</strong> (<em>python boolean object</em>) – pass</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="hzdplugins.aiidaplugins.inputgenerator.PwRelaxWorkChainInputGenerator.outputdict">
<code class="sig-name descname">outputdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hzdplugins/aiidaplugins/inputgenerator.html#PwRelaxWorkChainInputGenerator.outputdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hzdplugins.aiidaplugins.inputgenerator.PwRelaxWorkChainInputGenerator.outputdict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary. Suitable for the <code class="code docutils literal notranslate"><span class="pre">PwRelaxWorkChain</span></code>, can be used directly in the <code class="code docutils literal notranslate"><span class="pre">submit(</span>
<span class="pre">PwRelaxWorkChain,</span> <span class="pre">**inputs)</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="structure.html" class="btn btn-neutral float-right" title="structure Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Zheng-Da He

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>